<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLOT MACHINE6666 GENERATOR</title>
    <style>
        body {
            background-image: url('background.png');
            background-size: cover;
            background-position: top center;
            color: white;
            font-family: Arial, sans-serif;
            padding: 10px;
        }
        h2 {
            text-align: center;
            margin-top: 20px;
        }
        label {
            display: block;
            text-align: center;
            margin-top: 10px;
        }
        #message {
            display: block;
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        #sendBtn, #openGameBtn {
            display: block;
            width: 100%;
            max-width: 200px;
            margin: 20px auto;
            padding: 10px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            text-align: center;
        }
        #sendBtn {
            background-color: #4CAF50;
            color: white;
        }
        #sendBtn:hover {
            background-color: #45a049;
        }
        #downloadLink, #gameLink {
            display: none;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h2>Write ttt Your Prompt</h2>
    <label for="message">اكتب رسالتك:</label>
    <textarea id="message" rows="4"></textarea><br>
    <button id="sendBtn">Send</button>
    <dev id="status"> </dev>
    <div id="downloadLink">
        <a id="downloadAnchor" href="" target="_blank">Download Images</a>
    </div>
    <div id="gameLink">
        <a id="gameAnchor" href="" target="_blank">Open Game</a>
    </div>

    <script>
        document.getElementById("sendBtn").onclick = function() {
            var message = document.getElementById("message").value;
            fetch("https://sterling-ultimately-lizard.ngrok-free.app/receive_message", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ message: message })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === "True") {
                    checkstatus();

                } else {
                    alert(data.message);
                }
            })
            .catch(error => console.error("Error:", error));
        };
        function checkstatus(){
            fetch("https://sterling-ultimately-lizard.ngrok-free.app/receive_message").then(response=> response.json()).then(data=>{
                document.getElementById("status").innerText=data.message+"%"
                if(data.process_percen==100){
                    document.getElementById("downloadLink").style.display = "block";
                    document.getElementById("downloadAnchor").href = `https://sterling-ultimately-lizard.ngrok-free.app${data.download_link}`;
                    
                    document.getElementById("gameLink").style.display = "block";
                    document.getElementById("gameAnchor").href = `https://sterling-ultimately-lizard.ngrok-free.app${data.game_link}`;


                }
                




            }


        }




        
    </script>
</body>
</html>



            





